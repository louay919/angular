<div class="page">

  <div class="list-header">
    <h2 class="title">ğŸ’¡ Suggestions</h2>
    <button class="add-btn" routerLink="/suggestions/add">â• Ajouter</button>
  </div>

  <input type="text" class="search" [(ngModel)]="searchText" placeholder="ğŸ” Rechercher par titre ou catÃ©gorie" />

  <div class="suggestions">
    <div class="card" *ngFor="let s of filteredSuggestions()">

      <div class="card-header">
        <h3>{{ s.title }}</h3>
        <span class="status" [ngClass]="s.status">
          {{ s.status === 'acceptee' ? 'AcceptÃ©e' : s.status === 'refusee' ? 'RefusÃ©e' : 'En attente' }}
        </span>
      </div>

      <p class="description">{{ s.description }}</p>

      <div class="info">
        <span>ğŸ“ {{ s.category }}</span>
        <span>ğŸ“… {{ s.date | date:'dd/MM/yyyy' }}</span>
        <span>ğŸ‘ {{ s.nbLikes }} likes</span>
      </div>

      <div class="actions" *ngIf="s.status !== 'refusee'">
        <button class="like" (click)="likeSuggestion(s)">ğŸ‘ Like</button>
        <button class="fav" (click)="addToFavorites(s)">â­ Favoris</button>
        <button class="details" [routerLink]="['/suggestions', s.id]">ğŸ“„ DÃ©tails</button>
      </div>

    </div>
  </div>

  <div class="fav-section" *ngIf="favorites.length > 0">
    <h3 class="fav-title">â­ Favoris ({{ favorites.length }})</h3>
    <ul class="fav-list">
      <li *ngFor="let f of favorites">{{ f.title }}</li>
    </ul>
  </div>

</div>